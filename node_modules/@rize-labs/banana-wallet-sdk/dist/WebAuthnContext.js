'use strict';function _0x1011(_0x223287,_0x287074){const _0x5c7ecc=_0x5c7e();return _0x1011=function(_0x1011ef,_0x5393b6){_0x1011ef=_0x1011ef-0x1e3;let _0x135d8b=_0x5c7ecc[_0x1011ef];return _0x135d8b;},_0x1011(_0x223287,_0x287074);}const _0x5a4b60=_0x1011;(function(_0x573951,_0x340e48){const _0x4c68b4=_0x1011,_0xf10f7f=_0x573951();while(!![]){try{const _0x5cd939=-parseInt(_0x4c68b4(0x1f4))/0x1*(parseInt(_0x4c68b4(0x20b))/0x2)+-parseInt(_0x4c68b4(0x1e7))/0x3*(parseInt(_0x4c68b4(0x213))/0x4)+parseInt(_0x4c68b4(0x203))/0x5*(-parseInt(_0x4c68b4(0x20a))/0x6)+parseInt(_0x4c68b4(0x201))/0x7+-parseInt(_0x4c68b4(0x1ec))/0x8*(parseInt(_0x4c68b4(0x214))/0x9)+parseInt(_0x4c68b4(0x1f5))/0xa+parseInt(_0x4c68b4(0x211))/0xb;if(_0x5cd939===_0x340e48)break;else _0xf10f7f['push'](_0xf10f7f['shift']());}catch(_0x14a8d0){_0xf10f7f['push'](_0xf10f7f['shift']());}}}(_0x5c7e,0x70e29));function _0x5c7e(){const _0x170a80=['arrayify','registerFingerprint','bananawallet','decode','REGISTRATION_LAMBDA_URL','25958273EBIsZQ','required','208vsZsIw','18UMGZOp','concat','log','from','data','signature','authenticatorData','post','isUserVerifyingPlatformAuthenticatorAvailable','30327JPhVlm','create','verifyFingerprint','hex','charCodeAt','1291264BmOrAb','Failed\x20to\x20get\x20credential','algo\x20not\x20supported,\x20trying\x20again','clientDataJSON','defineProperty','cross-platform','VERIFICATION_LAMBDA_URL','reject','2lsnGtA','2944170jYZFkU','rawId','Failed\x20to\x20create\x20credential','__esModule','slice','stringify','response','get','credentials','attestationObject','none','public-key','1292501kPqlpZ','toString','274370DukGKN','Banana\x20Smart\x20Wallet','getUserOp','authenticatorAttachment','message','\x19Ethereum\x20Signed\x20Message:\x0a32','default','90kbEWMg','704932QzrTAs'];_0x5c7e=function(){return _0x170a80;};return _0x5c7e();}Object[_0x5a4b60(0x1f0)](exports,_0x5a4b60(0x1f8),{'value':!0x0}),exports[_0x5a4b60(0x1e9)]=exports['registerFingerprint']=exports[_0x5a4b60(0x205)]=void 0x0;const _0x3a4fb6=require('./utils/base64url-arraybuffer'),_0x4bee92=require('uuid'),_0x21b8d2=require('axios'),_0x3986fc=require('./routes'),_0x1b69ba=require('ethers/lib/utils'),_0x311216=require('ethers');function _0x4a182c(_0x13573e){const _0x591578=_0x5a4b60;return Buffer[_0x591578(0x215)]([Buffer[_0x591578(0x217)](_0x591578(0x208),'ascii'),Buffer[_0x591578(0x217)]((0x0,_0x1b69ba[_0x591578(0x20c)])(_0x13573e))]);}exports[_0x5a4b60(0x205)]=_0x4a182c;const _0x2f0ff7=async()=>{const _0x23caf1=_0x5a4b60;var _0x11ba19=(0x0,_0x4bee92['v4'])(),_0x4ace80=(0x0,_0x4bee92['v4'])(),_0x5c83aa=await PublicKeyCredential[_0x23caf1(0x1e6)]()?'platform':_0x23caf1(0x1f1),_0x4ace80={'challenge':Uint8Array[_0x23caf1(0x217)](_0x4ace80,_0x1d7402=>_0x1d7402[_0x23caf1(0x1eb)](0x0)),'rp':{'name':_0x23caf1(0x204)},'user':{'id':Uint8Array[_0x23caf1(0x217)](_0x11ba19,_0x5040c8=>_0x5040c8[_0x23caf1(0x1eb)](0x0)),'name':_0x23caf1(0x20e),'displayName':_0x23caf1(0x204)},'pubKeyCredParams':[{'type':'public-key','alg':-0x7}],'authenticatorSelection':{'authenticatorAttachment':_0x5c83aa,'userVerification':_0x23caf1(0x212)},'timeout':0xea60,'attestation':_0x23caf1(0x1ff)};let _0x13a7d0;try{_0x13a7d0=await navigator['credentials']['create']({'publicKey':_0x4ace80});}catch(_0x3ad353){console[_0x23caf1(0x216)](_0x23caf1(0x1ee),_0x3ad353),_0x4ace80['authenticatorSelection'][_0x23caf1(0x206)]=_0x23caf1(0x1f1),_0x13a7d0=await navigator[_0x23caf1(0x1fd)][_0x23caf1(0x1e8)]({'publicKey':_0x4ace80});}return null===_0x13a7d0?Promise[_0x23caf1(0x1f3)](new Error(_0x23caf1(0x1f7))):{'q0':(_0x11ba19=await(0x0,_0x21b8d2[_0x23caf1(0x209)])({'url':_0x3986fc[_0x23caf1(0x210)],'method':'post','params':{'aObject':JSON['stringify'](Array[_0x23caf1(0x217)](new Uint8Array(_0x13a7d0[_0x23caf1(0x1fb)][_0x23caf1(0x1fe)]))),'rawId':JSON[_0x23caf1(0x1fa)](Array[_0x23caf1(0x217)](new Uint8Array(_0x13a7d0?.[_0x23caf1(0x1f6)])))}}))['data'][_0x23caf1(0x207)]['q0hexString'],'q1':_0x11ba19['data'][_0x23caf1(0x207)]['q1hexString'],'encodedId':_0x11ba19[_0x23caf1(0x218)][_0x23caf1(0x207)]['encodedId']};},_0x1da5b1=(exports[_0x5a4b60(0x20d)]=_0x2f0ff7,async(_0x144cb4,_0x1014b5,_0x3d38f9)=>{const _0xa2a9ca=_0x5a4b60;var _0x3d38f9=_0x3a4fb6[_0xa2a9ca(0x20f)](_0x3d38f9),_0x3d38f9=await navigator[_0xa2a9ca(0x1fd)][_0xa2a9ca(0x1fc)]({'publicKey':{'allowCredentials':[{'id':_0x3d38f9,'type':_0xa2a9ca(0x200)}],'challenge':Uint8Array[_0xa2a9ca(0x217)](_0x1014b5,_0xcdde72=>_0xcdde72[_0xa2a9ca(0x1eb)](0x0))['buffer'],'userVerification':_0xa2a9ca(0x212)}});return null===_0x3d38f9?Promise['reject'](new Error(_0xa2a9ca(0x1ed))):(_0x1014b5=_0x3d38f9['response'],_0x3d38f9=Buffer[_0xa2a9ca(0x217)](_0x1014b5[_0xa2a9ca(0x1ef)]),_0x1014b5=await(0x0,_0x21b8d2[_0xa2a9ca(0x209)])({'url':_0x3986fc[_0xa2a9ca(0x1f2)],'method':_0xa2a9ca(0x1e5),'params':{'authDataRaw':JSON[_0xa2a9ca(0x1fa)](Array[_0xa2a9ca(0x217)](new Uint8Array(_0x1014b5[_0xa2a9ca(0x1e4)]))),'cData':JSON['stringify'](Array['from'](new Uint8Array(_0x1014b5[_0xa2a9ca(0x1ef)]))),'signature':JSON[_0xa2a9ca(0x1fa)](Array[_0xa2a9ca(0x217)](new Uint8Array(_0x1014b5[_0xa2a9ca(0x1e3)])))}}),_0x3d38f9=_0x3d38f9[_0xa2a9ca(0x202)](_0xa2a9ca(0x1ea))[_0xa2a9ca(0x1f9)](0x48,0xf8),_0x3d38f9=_0x311216['ethers']['utils']['keccak256']('0x'+_0x3d38f9),_0x144cb4[_0xa2a9ca(0x1e3)]=_0x1014b5['data'][_0xa2a9ca(0x207)]['finalSignature']+_0x3d38f9[_0xa2a9ca(0x1f9)](0x2),{'newUserOp':_0x144cb4,'process':_0x1014b5[_0xa2a9ca(0x218)][_0xa2a9ca(0x207)]['processStatus']});});exports[_0x5a4b60(0x1e9)]=_0x1da5b1;